# config.json 設定解説

Type Alpha の動作を調整するための設定ファイルです。

---

## game - ゲーム基本設定

| パラメータ | 型 | デフォルト | 説明 |
|-----------|-----|-----------|------|
| `duration` | number | 60 | ゲーム時間（秒） |
| `countdownSeconds` | number | 3 | 開始前のカウントダウン秒数 |

---

## generator - 文字生成エンジン設定

### letterWeights
各英小文字の出現頻度（重み）を設定します。数値が大きいほど出現しやすくなります。

デフォルトは英語の一般的な文字頻度に基づいています：
- `e` (12.7) が最も出現しやすい
- `z` (0.074) が最も出現しにくい

```json
"letterWeights": {
  "a": 8.2, "b": 1.5, "c": 2.8, "d": 4.3, "e": 12.7, "f": 2.2,
  "g": 2.0, "h": 6.1, "i": 7.0, "j": 0.15, "k": 0.77, "l": 4.0,
  "m": 2.4, "n": 6.7, "o": 7.5, "p": 1.9, "q": 0.095, "r": 6.0,
  "s": 6.3, "t": 9.1, "u": 2.8, "v": 0.98, "w": 2.4, "x": 0.15,
  "y": 2.0, "z": 0.074
}
```

### sameFingerPenalty
| パラメータ | 型 | デフォルト | 説明 |
|-----------|-----|-----------|------|
| `sameFingerPenalty` | number | 0.3 | 同一指での連続打鍵を抑制するペナルティ係数（0〜1） |

例: `0.3` の場合、同じ指で連続して打つ文字の出現確率が30%に減少します。
- `1.0`: ペナルティなし
- `0.0`: 同指連続を完全に禁止

### patternInsertRate
| パラメータ | 型 | デフォルト | 説明 |
|-----------|-----|-----------|------|
| `patternInsertRate` | number | 0.15 | パターン（単語の一部）を挿入する確率（0〜1） |

### patterns
打ちやすいパターン（よく使う文字の組み合わせ）のリストです。

```json
"patterns": ["ing", "the", "tion", "and", "ent", "ion", "ere", "her", "ate", "ter", "hat", "all", "ith"]
```

---

## fingerMap - 運指マッピング

各キーがどの指に対応するかを定義します。同じ番号のキーは「同じ指で打つ」と判定されます。

| 指番号 | 指 | キー |
|-------|-----|------|
| 0 | 左手小指 | a, q, z |
| 1 | 左手薬指 | s, w, x |
| 2 | 左手中指 | d, e, c |
| 3 | 左手人差し指 | f, r, v, t, g, b |
| 4 | 右手人差し指 | j, u, m, y, h, n |
| 5 | 右手中指 | k, i |
| 6 | 右手薬指 | l, o |
| 7 | 右手小指 | p |

※ QWERTY配列を基準としています。

---

## ui - UI設定

| パラメータ | 型 | デフォルト | 説明 |
|-----------|-----|-----------|------|
| `shakeIntensity` | number | 5 | ミス時のシェイク強度（ピクセル） |
| `shakeDuration` | number | 100 | シェイクアニメーションの時間（ミリ秒） |
| `slideTransitionMs` | number | 50 | 文字スライドのトランジション時間（ミリ秒） |
| `visibleCharsBefore` | number | 30 | 現在位置より前に表示する文字数 |
| `visibleCharsAfter` | number | 45 | 現在位置より後に表示する文字数 |

---

## ranking - ランク基準

WPMに基づくランク判定の閾値を設定します。

| パラメータ | 型 | デフォルト | 説明 |
|-----------|-----|-----------|------|
| `S` | number | 120 | Sランクの最低WPM |
| `A` | number | 90 | Aランクの最低WPM |
| `B` | number | 60 | Bランクの最低WPM |
| `C` | number | 40 | Cランクの最低WPM |
| `D` | number | 0 | Dランク（それ以下） |

---

## 設定例：難易度調整

### 初心者向け（易しめ）
```json
{
  "game": {
    "duration": 30,
    "countdownSeconds": 5
  },
  "generator": {
    "sameFingerPenalty": 0.1,
    "patternInsertRate": 0.3
  },
  "ranking": {
    "S": 80,
    "A": 60,
    "B": 40,
    "C": 25,
    "D": 0
  }
}
```

### 上級者向け（難しめ）
```json
{
  "game": {
    "duration": 60,
    "countdownSeconds": 1
  },
  "generator": {
    "sameFingerPenalty": 0.8,
    "patternInsertRate": 0.05
  },
  "ranking": {
    "S": 150,
    "A": 120,
    "B": 90,
    "C": 60,
    "D": 0
  }
}
```
